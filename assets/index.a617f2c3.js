import{a as e}from"./index.b3c34ce3.js";import{b as t,e as a,q as l,f as s,o as i,g as n,k as c,m as d,F as o,j as r,t as u,B as p,l as f,A as h,C as m,D as M}from"./vendor.66baf106.js";const v={data:()=>({SDMap:{},defaultMap:{},size:3,filledList:[],textarea:""}),created(){this.resetSDMap("SDMap"),this.resetSDMap("defaultMap")},methods:{initData(){const{size:e,textarea:t,defaultMap:a}=this;this.filledList=[];for(let l in a){let t=a[l];const{x:s,y:i,num:n}=t;n&&n<=e**2&&this.filledList.push(t)}},resetSDMap(e){const{size:t}=this,a=Array(t**2).fill(1).map(((e,t)=>e+t));for(let l=1;l<=t**2;l++)for(let s=1;s<=t**2;s++){let t=`${s}-${l}`;this[e][t]={x:s,y:l,num:""},"SDMap"===e&&(this[e][t].range=a)}},createSDMap(){const{size:e,repeatFillCell:t,resetSDMap:a}=this;let l=!0,s=1e3;for(;l&&s>0;){a("SDMap"),t(),s--;let i=0;for(let e in this.SDMap){this.SDMap[e].num&&i++}i===e**4&&(l=!1)}},repeatFillCell(){const{size:e,fillCell:t,filledList:a}=this;let l=this.$copy(a);for(let s=0;s<e**4;s++){let e=null;l.length&&(e=l.pop()),t(e)}},ceil(e){const{size:t}=this;return Math.ceil(e/t)},getBestXY(){const{size:e,SDMap:t}=this;let a=e**2,l={};for(let s in t){let e=t[s];const{range:i,x:n,y:c,num:d}=e;if(!d){let e=i.length;if(e<=a&&(a=e,l={x:n,y:c}),1===e)break}}return l},fillCell(e){const{getRandom:t,SDMap:a,getBestXY:l,checkAllSDMapRange:s}=this;s();let i=e||l();const{x:n,y:c}=i;if(n&&c){const e=i.num||t(n,c);let a=`${n}-${c}`;return this.SDMap[a].num=e,this.SDMap[a]}},checkAllSDMapRange(){const{SDMap:e,getRange:t}=this;for(let a in e){let l=e[a];const{x:s,y:i}=l;e[`${s}-${i}`].range=t(s,i)}this.SDMap=JSON.parse(JSON.stringify(e))},getValidRange(e,t){const{SDMap:a}=this;let l=a[t];if(l){const{num:t}=l;let a=new Set(e);a.delete(t),e=[...a]}return e},getRange(t,a){const{size:l,ceil:s,getValidRange:i}=this,n=l**2,c=({isArea:e=!1,isX:c=!1})=>{let d=Array(n).fill(1).map(((e,t)=>e+t));if(e){let e=s(t)-1,n=s(a)-1;for(let t=1;t<=l;t++){let a=e*l+t;for(let e=1;e<=l;e++){d=i(d,`${a}-${n*l+e}`)}}}else for(let l=1;l<=n;l++){d=i(d,c?`${l}-${a}`:`${t}-${l}`)}return d};let d=c({isX:!0}),o=c({}),r=c({isArea:!0}),u=e(d,o);return u=e(u,r),u},getRandom(e,t){const a=this.getRange(e,t);return a[Math.floor(Math.random()*a.length)]}}},g=f("data-v-17452900");t("data-v-17452900");const D={class:"sudoku x"},S={class:"flex1 y aie"},$=d("h2",null,"数独答案",-1),x={class:"grid"},k=h("生成"),y=h("重置"),z={class:"flex1"},C={class:"nemu"},b=d("h2",null,"填充初始单元",-1),I={class:"grid"},R=h("确认"),_=h("重置");a();const A=g(((e,t,a,f,h,m)=>{const M=l("el-button"),v=s("pm");return i(),n("div",D,[c(d("div",S,[$,d("div",x,[(i(!0),n(o,null,r(h.size**2,(e=>(i(),n("div",{key:e,class:{xline:!(e%h.size)}},[(i(!0),n(o,null,r(h.size**2,(t=>(i(),n("div",{key:t,class:{yline:!(t%h.size)}},[d("div",{class:["cell x1 aic",{active:h.SDMap[`${e}-${t}`].num}]},u(h.SDMap[`${e}-${t}`]&&h.SDMap[`${e}-${t}`].num||`${e}-${t}`),3)],2)))),128))],2)))),128))]),c(d("div",null,[d(M,{onClick:m.createSDMap},{default:g((()=>[k])),_:1},8,["onClick"]),d(M,{onClick:t[1]||(t[1]=e=>m.resetSDMap("SDMap"))},{default:g((()=>[y])),_:1})],512),[[v,"20px 0 0"]])],512),[[v,"0 30px 0"]]),c(d("div",z,[d("div",C,[d("div",null,[b,d("div",null,[d("div",I,[(i(!0),n(o,null,r(h.size**2,(e=>(i(),n("div",{key:e,class:{xline:!(e%h.size)}},[(i(!0),n(o,null,r(h.size**2,(t=>(i(),n("div",{key:t,class:{yline:!(t%h.size)}},[d("div",{class:["cell x1 aic",{active:h.defaultMap[`${e}-${t}`].num}]},[c(d("input",{class:"cellInput",type:"number",max:h.size**2,"onUpdate:modelValue":a=>h.defaultMap[`${e}-${t}`].num=a},null,8,["max","onUpdate:modelValue"]),[[p,h.defaultMap[`${e}-${t}`].num,void 0,{number:!0}]])],2)],2)))),128))],2)))),128))])]),c(d("div",null,[d(M,{onClick:m.initData},{default:g((()=>[R])),_:1},8,["onClick"]),d(M,{onClick:t[2]||(t[2]=e=>m.resetSDMap("defaultMap"))},{default:g((()=>[_])),_:1})],512),[[v,"20px 0 0"]])])])],512),[[v,"0 30px 0"]])])}));v.render=A,v.__scopeId="data-v-17452900";const L={components:{sudoku:v},data:()=>({activeId:"",gameList:[{id:"sudoku",name:"数独生成器"}]}),created(){this.init()},methods:{init(){this.activeId=this.gameList[0].id},chooseItem(e){this.activeId=e.id}}},V=f("data-v-d64b8a48");t("data-v-d64b8a48");const X={class:"game"},j={class:"gameMenu x aic bgc4"};a();const B=V(((e,t,a,l,p,f)=>{const h=s("hover"),v=s("pm");return i(),n("div",X,[d("div",j,[(i(!0),n(o,null,r(p.gameList,(e=>c((i(),n("div",{class:"cell pointer x1 aic white",key:e.id,onClick:t=>f.chooseItem(e)},u(e.name),9,["onClick"])),[[h]]))),128))]),c(d("div",null,[p.activeId?(i(),n(m(p.activeId),{key:0})):M("",!0)],512),[[v,"20px 0 0","m"]])])}));L.render=B,L.__scopeId="data-v-d64b8a48";export default L;
