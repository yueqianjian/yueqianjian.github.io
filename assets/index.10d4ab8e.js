import{s as e,i as o}from"./index.1ff44bf4.js";import{b as l,e as r,q as s,f as a,o as t,g as d,m,k as u,F as n,j as i,A as p,t as f,l as c}from"./vendor.7d5d7301.js";const h={data:()=>({form:{username:"",pwd:"",role:""},role:0,roleList:[{role:"Admin",username:"Admin",pwd:"123456"},{role:"Guest",username:"Guest",pwd:"123456"}]}),computed:{redirect(){return this.$route.query.redirect||"/home"}},created(){this.changeRole()},methods:{login(){this.$refs.form.validate((l=>{if(l){const{role:l}=this.form;e("role",l),this.$store.commit("user/setData",{k:"role",v:l}),e("token",l),this.$store.commit("user/setData",{k:"token",v:l}),o(),this.$router.push(this.redirect)}}))},changeRole(e=0){let o=this.roleList[e];this.form=this.$copy(o)}}},b=c("data-v-b0468db4");l("data-v-b0468db4");const g={class:"login"},v={class:"box"},w=m("div",{class:"title"},"Login",-1),V=m("span",{class:"white"},"登录",-1);r();const $=b(((e,o,l,r,c,h)=>{const $=s("el-input"),k=s("el-form-item"),_=s("el-form"),q=s("el-button"),x=s("el-radio"),y=s("el-radio-group"),C=a("pm");return t(),d("div",g,[m("div",v,[w,m(_,{class:"form",ref:"form",model:c.form},{default:b((()=>[m(k,{rules:[e.$rules.req()],prop:"username"},{default:b((()=>[m($,{placeholder:"username",modelValue:c.form.username,"onUpdate:modelValue":o[1]||(o[1]=e=>c.form.username=e)},null,8,["modelValue"])])),_:1},8,["rules"]),m(k,{rules:[e.$rules.req(),e.$rules.pwd],prop:"pwd"},{default:b((()=>[m($,{type:"password",placeholder:"password",modelValue:c.form.pwd,"onUpdate:modelValue":o[2]||(o[2]=e=>c.form.pwd=e)},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1},8,["model"]),m(q,{class:"login-btn",onClick:h.login},{default:b((()=>[V])),_:1},8,["onClick"]),u(m(y,{onChange:h.changeRole,modelValue:c.role,"onUpdate:modelValue":o[3]||(o[3]=e=>c.role=e)},{default:b((()=>[(t(!0),d(n,null,i(c.roleList,((e,o)=>(t(),d(x,{key:o,label:o},{default:b((()=>[p(f(e.role),1)])),_:2},1032,["label"])))),128))])),_:1},8,["onChange","modelValue"]),[[C,"20px 0 0","m"]])])])}));h.render=$,h.__scopeId="data-v-b0468db4";export default h;
